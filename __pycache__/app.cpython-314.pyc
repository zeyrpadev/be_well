+
    Â£Ã‹ÂiËœd  Ã£                   Ã³Å½  â‚¬ ^ RI t^ RIHtHt ^ RIt^ RIHt ^ RIH	t	 ]! 4        ]P                  ! RRRR7       ]P                  ! R	4      t]P                  ! R
4      t
]'       d	   ]
'       g$   ]P                  ! R4       ]P                  ! 4        ]P                   R 4       t]! 4       t]P&                  ! R
RR7       R]P(                  9  d   R]P(                  n        R]P(                  9  d   R]P(                  n        R]P(                  9  d   R]P(                  n        R]P(                  9  d   R]P(                  n        R]P(                  9  d   . ]P(                  n        R]P(                  9  d   R]P(                  n        R]P(                  9  d   R]P(                  n        R R ltR tR tR tR t R t!R  t"R! t#]P(                  P*                  t]R8X  d
   ]! 4        R# ]R"8X  d
   ] ! 4        R# ]R#8X  d
   ]!! 4        R# ]R$8X  d
   ]"! 4        R# ]R%8X  d
   ]#! 4        R# ]! R4       ]PH                  ! 4        R# )&Ã©    N)ÃšdateÃš	timedelta)Ãšload_dotenv)Ãš
create_clientzBe Wellu   Ã°Å¸â€™Å¡Ãšcentered)Ãš
page_titleÃš	page_iconÃšlayoutÃšSUPABASE_URLÃšSUPABASE_KEYz2Missing SUPABASE_URL or SUPABASE_KEY in .env file.c                  Ã³*   â‚¬ \        \        \        4      # Â©N)r   r   r   Â© Ã³    Ãš*C:\Users\Zey\Desktop\be-well-python\app.pyÃšget_supabase_clientr      s   â‚¬ Ã¤Å“Â¤|Ã“4Ã4r   a  
<style>
    /* Hide Streamlit chrome */
    #MainMenu, header, footer {visibility: hidden;}
    .block-container {
        max-width: 420px !important;
        padding: 1rem 1.5rem !important;
    }

    /* Brand colours */
    :root {
        --brand: #2B6777;
        --brand-light: #52AB98;
        --bg: #F5F5F5;
        --card-bg: #FFFFFF;
        --text-dark: #1E1E1E;
        --text-muted: #888888;
    }

    /* Teal primary buttons */
    .stButton > button {
        background-color: var(--brand) !important;
        color: white !important;
        border: none !important;
        border-radius: 25px !important;
        padding: 0.6rem 1.5rem !important;
        font-weight: 600 !important;
        width: 100%;
        transition: background-color 0.2s;
    }
    .stButton > button:hover {
        background-color: var(--brand-light) !important;
    }

    /* Social / outline buttons */
    .social-btn {
        display: inline-flex; align-items: center; justify-content: center; gap: 8px;
        border: 1.5px solid #ddd; border-radius: 25px;
        padding: 10px 0; width: 48%; text-align: center;
        font-size: 0.9rem; font-weight: 500; color: var(--text-dark);
        background: white; cursor: pointer;
    }
    .social-btn:hover {background: #f9f9f9;}
    .social-row {display: flex; gap: 4%; justify-content: center; margin: 0.5rem 0;}

    /* Divider */
    .or-divider {
        display: flex; align-items: center; gap: 12px;
        color: var(--text-muted); margin: 1rem 0; font-size: 0.85rem;
    }
    .or-divider::before, .or-divider::after {
        content: ""; flex: 1; height: 1px; background: #ddd;
    }

    /* Case card */
    .case-card {
        background: var(--card-bg);
        border-radius: 14px;
        padding: 1rem 1.2rem;
        margin-bottom: 0.75rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    }
    .case-card .date {font-size: 0.75rem; color: var(--text-muted);}
    .case-card .child {font-weight: 700; font-size: 1rem; margin: 2px 0;}
    .case-card .symptom {font-size: 0.85rem; color: #555;}

    /* Header bar */
    .header-bar {
        display: flex; justify-content: space-between; align-items: center;
        margin-bottom: 0.5rem;
    }
    .header-bar .icons {display: flex; gap: 12px; align-items: center;}
    .avatar {
        width: 36px; height: 36px; border-radius: 50%;
        background: var(--brand-light); color: white;
        display: flex; align-items: center; justify-content: center;
        font-weight: 700; font-size: 0.9rem;
    }

    /* Back button */
    .back-link {
        font-size: 1.05rem; font-weight: 600; color: var(--brand);
        cursor: pointer; text-decoration: none;
    }

    /* Links */
    .link-text {color: var(--brand); font-weight: 600; text-decoration: none;}
    .muted {color: var(--text-muted); font-size: 0.82rem; text-align: center;}

    /* Inputs */
    .stTextInput > div > div > input,
    .stTextArea > div > div > textarea,
    .stSelectbox > div > div,
    .stDateInput > div > div > input {
        border-radius: 12px !important;
    }

    /* Symptom bubble */
    .symptom-bubble {
        background: var(--brand);
        color: white;
        border-radius: 16px;
        padding: 0.7rem 1rem;
        font-size: 0.88rem;
        line-height: 1.4;
        margin: 0.5rem 0 1rem 0;
    }

    /* AI Guidance card */
    .ai-card {
        background: #F0F4F5;
        border-radius: 14px;
        padding: 1rem 1.2rem;
        margin: 1rem 0;
    }
    .ai-card-dark {
        background: var(--brand);
        color: white;
        border-radius: 14px;
        padding: 1rem 1.2rem;
        margin: 1rem 0;
    }
    .ai-card-dark a {color: #FFD6D6; font-weight: 600;}
    .ai-card h4, .ai-card-dark h4 {
        margin: 0 0 0.5rem 0;
        font-size: 1rem;
        font-weight: 700;
    }
    .ai-card-dark h4 {color: white;}
    .ai-label {font-weight: 700; font-size: 0.88rem;}
    .ai-text {font-size: 0.85rem; color: #444; line-height: 1.5; margin-top: 0.5rem;}
    .ai-card-dark .ai-text {color: #E0E0E0;}

    /* Category tag */
    .cat-tag {
        display: inline-block;
        background: var(--brand);
        color: white;
        border-radius: 20px;
        padding: 3px 14px;
        font-size: 0.78rem;
        font-weight: 600;
    }

    /* Red flags */
    .red-flags-card {
        background: var(--card-bg);
        border-radius: 14px;
        padding: 1rem 1.2rem;
        margin: 1rem 0;
        box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    }
    .red-flag-title {
        color: #D32F2F;
        font-weight: 700;
        font-size: 0.95rem;
        margin-bottom: 0.5rem;
    }
    .red-flag-item {
        display: flex; align-items: center; gap: 8px;
        font-size: 0.88rem; color: #333;
        padding: 4px 0;
    }
    .red-dot {
        width: 20px; height: 20px; border-radius: 50%;
        background: #D32F2F; color: white;
        display: inline-flex; align-items: center; justify-content: center;
        font-size: 0.7rem; font-weight: 700; flex-shrink: 0;
    }

    /* Submitted meta */
    .submitted-meta {
        font-size: 0.78rem;
        color: var(--text-muted);
        margin: -0.3rem 0 1rem 0;
    }

    /* Parent update description */
    .update-desc {
        font-size: 0.88rem;
        color: #555;
        line-height: 1.5;
        margin: 0.5rem 0 1rem 0;
    }
</style>
TÂ©Ãšunsafe_allow_htmlÃšpageÃšloginÃšuser_idÃšdisplay_nameÃš ÃšroleÃš
centre_idsÃšaccess_tokenÃšselected_case_idc                Ã³$   â‚¬ V ^8â€  d   QhR\         /# )Ã©   r   )Ãšstr)Ãšformats   "r   Ãš__annotate__r"   Ã©   s   â‚¬ Ã· !Ã± !â€3Ã± !r   c                 Ã³0   â‚¬ V \         P                  n        R # r   )ÃšstÃš
session_stater   )r   s   &r   Ãšnavigater&   Ã©   s   â‚¬ Ã˜ â€BÃ—Ã‘Ã–r   c                 Ã³Å    â‚¬ \         P                  P                  '       g#   \        R4       \         P                  ! 4        R# R# )z'Redirect to login if not authenticated.r   N)r$   r%   r   r&   Ãšrerunr   r   r   Ãšrequire_authr)   Ã­   s*   â‚¬ Ã¤
Ã—Ã‘Ã—#Ã—#Ã#ÃœÂÃ”Ãœ
ÂÅ Å½
Ã± $r   c                 Ã³D  â‚¬  \         P                  P                  4        R F  p V R8w  d   RM. \        P
                  V &   K!  	  R\        P
                  n        R\        P
                  n        \        R4       \        P                  ! 4        R#   \         d     L~i ; i)z'Sign out of Supabase and clear session.r   Nr   r   )r   r   r   r   r   )
ÃšsbÃšauthÃšsign_outÃš	Exceptionr$   r%   r   r   r&   r(   Â©Ãškeys    r   Ãš	do_logoutr1   Ã´   s   â‚¬ Ã°
Ãœ
Ââ€°Ã—Ã‘Ã”Ã³ QË†Ã˜(+Â¨|Ã”(;Â¡Ã€Å’Ã—Ã‘ËœÃ“Ã± QÃ $&â€BÃ—Ã‘Ã”!Ã˜â€BÃ—Ã‘Ã”ÃœË†WÃ”Ãœâ€¡Hâ€šHâ€ JÃ¸Ã´ Ã´ 
Ã™Ã°
Ãºs   â€šB Ã‚BÃ‚Bc                  Ã³8  â‚¬ \         P                  ! R RR7       \         P                  ! RRR7       \         P                  ! RRR7       \         P                  ! R4       \         P                  ! RRR7       \         P                  ! RRR	7      p \         P                  ! R
RRR
7      p\         P                  ! R4      '       Ed    V '       d	   V'       g   \         P                  ! R4       EMÃ— \
        P                  P                  RV RV/4      pVP                  pVP                  pVP                  \         P                  n        VP                  \         P                  n
        \
        P                  R4      P                  R4      P!                  RVP                  4      P#                  4       P%                  4       pVP&                  '       dâ„¢   VP&                  P)                  RV 4      \         P                  n        VP&                  P)                  RR4      \         P                  n        VP&                  P)                  R. 4      ;'       g    . \         P                  n        M9V P1                  R4      ^ ,          P3                  4       \         P                  n        \5        R4       \         P6                  ! 4        \         P                  ! RRR7       \         P                  ! RRR7       \         P                  ! R RR7       \         P                  ! R!RR7       \         P                  ! R"RR7       R#   \8         dQ   p\;        T4      pRT9   d   \         P<                  ! R4        Rp?LÂ²\         P<                  ! RT 24        Rp?LÃRp?ii ; i)#z0<div style='text-align:center;margin-top:2rem;'>Tr   zÂ<span style='font-size:2.4rem;font-weight:800;color:#2B6777;'>Be</span><span style='font-size:2.4rem;font-weight:800;color:#52AB98;'>Well</span>Ãº</div>z## Welcome Back!z]<p style='color:#888;margin-top:-0.8rem;'>Log in to continue caring for your little ones.</p>ÃšEmailzyou@example.com)ÃšplaceholderÃšPasswordÃšpasswordzEnter your password)Ãštyper5   ÃšContinuez%Please enter both email and password.ÃšemailÃšuserszdisplay_name, role, centre_idsÃšidr   r   r   r   Ãš@ÃšhomezInvalid login credentialsz,Invalid email or password. Please try again.zLogin failed: NzÂ<p style='text-align:right;margin-top:-0.5rem;'><a href='#' class='link-text' style='font-size:0.85rem;'>Forgot Password?</a></p>z <div class='or-divider'>Or</div>uQ  
        <div class="social-row">
            <div class="social-btn">Ã°Å¸ÂÅ½&nbsp; Apple</div>
            <div class="social-btn">
                <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg"
                     width="18" style="vertical-align:middle;"> Google
            </div>
        </div>
        zn<p class='muted' style='margin-top:1rem;'>Don't have an account? <a href='#' class='link-text'>Sign up</a></p>zÃ‡<p class='muted' style='margin-top:2rem;font-size:0.72rem;'>By continuing you agree to our <a href='#' class='link-text'>Terms of Service</a> and <a href='#' class='link-text'>Privacy Policy</a>.</p>)r$   ÃšmarkdownÃš
text_inputÃšbuttonÃšwarningr+   r,   Ãšsign_in_with_passwordÃšuserÃšsessionr<   r%   r   r   ÃštableÃšselectÃšeqÃšmaybe_singleÃšexecuteÃšdataÃšgetr   r   r   ÃšsplitÃštitler&   r(   r.   r    Ãšerror)r:   r7   ÃšresrD   rE   ÃšprofileÃšeÃš	error_msgs           r   Ãšlogin_screenrT     sâ€¢  â‚¬ Ãœâ€¡Kâ€šKÃBÃVZÃ•[Ãœâ€¡Kâ€šKÃ°	TÃ ÃµÃ´
 â€¡Kâ€šKÂÂ¨DÃ•1Ã¤â€¡Kâ€šKÃ"Ã”#Ãœâ€¡Kâ€šKÃ˜gÃ˜ÃµÃ´
 
ÂMÅ MËœ'Ã/@Ã”Aâ‚¬EÃœÂ}Å }ËœZÂ¨jÃF[Ã”\â‚¬HÃ¤	â€¡yâ€šyÂÃ—Ã“ÃŸÅ¸HÃœÂJÅ JÃ>Ã–?Ã°
;Ãœâ€”gâ€˜gÃ—3Ã‘3Â°WÂ¸eÃ€ZÃQYÃ4ZÃ“[ÂÃ˜â€”xâ€˜xÂÃ˜Å¸+â„¢+ÂÃ +/Â¯7Â©7â€Ã— Ã‘ Ã”(Ã˜07Ã—0DÃ‘0Dâ€Ã— Ã‘ Ã”-Ã´ â€”Hâ€˜HËœWÃ“%ÃŸâ€˜VÃ<Ã“=ÃŸâ€˜RËœËœdÅ¸gâ„¢gÃ“&ÃŸ!â€˜\â€œ^ÃŸâ€˜Wâ€œYÃ° Ã° â€”<â€”<Â<Ã˜4;Â·LÂ±LÃ—4DÃ‘4DÃ€^ÃUZÃ“4[â€BÃ—$Ã‘$Ã”1Ã˜,3Â¯LÂ©LÃ—,<Ã‘,<Â¸VÃ€RÃ“,Hâ€BÃ—$Ã‘$Ã”)Ã˜29Â·,Â±,Ã—2BÃ‘2BÃ€<ÃQSÃ“2TÃ—2ZÃ2ZÃXZâ€BÃ—$Ã‘$Ã•/Ã 49Â·KÂ±KÃ€Ã“4DÃ€QÃ•4GÃ—4MÃ‘4MÃ“4Oâ€BÃ—$Ã‘$Ã”1Ã¤ËœÃ” Ãœâ€”â€™â€
Ã´ â€¡Kâ€šKÃ°	\Ã ÃµÃ´ â€¡Kâ€šKÃ2Ã€dÃ•KÃ¤â€¡Kâ€šKÃ°	Ã° ÃµÃ´ â€¡Kâ€šKÃ°	OÃ ÃµÃ´ â€¡Kâ€šKÃ°	DÃ° Ã·	Ã¸Ã´E Ã´ 
;ÃœÂ â€ºFÂ	Ã˜.Â°)Ã”;Ãœâ€”Hâ€™HÃKÃ—LÃ‘LÃ¤â€”Hâ€™HËœ~Â¨iÂ¨[Ã9Ã—:Ã‘:Ã»Ã°
;Ãºs-   Ãƒ.C$L> Ã‡B L> Ã‰A0L> ÃŒ>NÃ	(NÃ6NÃNc            
      Ã³	  â‚¬ \        4        \        P                  P                  ;'       g    R ^ ,          P	                  4       p \        P
                  ! . R,O4      w  rpV;_uu_ 4        \        P                  ! RRR7       RRR4       V;_uu_ 4        \        P                  ! RV  R2RR7       RRR4       T;_uu_ 4        \        P                  ! RRR	7      '       d   \        4        RRR4       \        P                  ! R
4       \        P                  ! R4      '       d!   \        R4       \        P                  ! 4        \        P                  ! R
4        \        P                  P                  p\        P                  R4      P                  R4      P                  RV4      P!                  RRR7      P#                  ^4      P%                  4       pVP&                  ;'       g    . pV'       g   \        P(                  ! R4       R# \+        V Uu0 uF$  qwP-                  R4      '       g   K  VR,          kK&  	  up4      p/ p	V'       d~   \        P                  R4      P                  R4      P/                  RV4      P%                  4       p
V
P&                  ;'       g    .  F!  pVR,           RVR,           2Wâ€ºR,          &   K#  	  V EF"  pV	P-                  VP-                  R4      R4      p
VP-                  RR4      p ^ RIHp VP3                  V4      pVP5                  R4      pVP-                  R R4      p\        P                  ! R!V R"V
 R#V R$2RR7       VR,          p\        P                  ! R%R&V 2R'7      '       g   KÃ€  V\        P                  n        \        P                  P:                  pVR(8X  d
   \        R)4       M\        R*4       \        P                  ! 4        EK%  	  R#   + '       g   i     ELâ€š; i  + '       g   i     ELg; i  + '       g   i     EL@; iu upi   \6         d    T;'       g    Rp EL$i ; i  \6         d%   p\        P<                  ! R+T 24        Rp?R# Rp?ii ; i)-ÃšCzI<div style='font-size:1.4rem;font-weight:800;color:#2B6777;'>BeWell</div>Tr   NÃº<div class='avatar'>r3   u   Ã¢â€ Â©ÃšLogout)Ãšhelpz### Carer Homeu
   Ã¯Â¼â€¹  New CaseÃš
symptom_entryz#### Recent CasesÃšcaseszCid, child_id, symptom_date, symptom_description, status, created_atÃšreported_byÃš
created_at)Ãšdescz.No cases yet. Tap **New Case** to get started.Ãšchild_idÃšchildrenzid, first_name, last_namer<   Ãš
first_nameÃš Ãš	last_namez
Unknown ChildÃšsymptom_dater   Â©Ãšdatetimez%d %b %YÃšsymptom_descriptionzW
                    <div class="case-card">
                        <div class="date">z2</div>
                        <div class="child">z4</div>
                        <div class="symptom">z6</div>
                    </div>
                    zView detailsÃšcase_r/   ÃšparentÃšacknowledge_reportÃšcase_detailszFailed to load cases: )Ã©   Ã©   rm   )r)   r$   r%   r   ÃšupperÃšcolumnsr?   rA   r1   r&   r(   r   r+   rF   rG   rH   ÃšorderÃšlimitrJ   rK   ÃšinfoÃšlistrL   Ãšin_rf   Ãš
fromisoformatÃšstrftimer.   r   r   rO   )ÃšinitialÃšcol1Ãšcol2Ãšcol3r   Ãš	cases_resr[   ÃšcÃš	child_idsÃš	child_mapÃšchildren_resÃšchÃšcaseÃš
child_nameÃš	case_daterf   ÃšdtÃšdisplay_dateÃšsymptomÃšcase_idr   rR   s                         r   Ãšhome_screenrË†   ]  sx  â‚¬ Ãœâ€NÃ¤Ã—Ã‘Ã—,Ã‘,Ã—3Ã3Â°Â°QÃ•7Ã—=Ã‘=Ã“?â‚¬GÃ´ â€”zâ€™zÂ¢)Ã“,Ã‘â‚¬DÂÃŸ	
Å Ãœ
ÂÅ Ã˜WÃ˜"Ãµ	
Ã· 
Ã·
 
Å Ãœ
ÂÅ Ã˜"Â 7Â )Â¨6Ã2Ã˜"Ãµ	
Ã· 
Ã·
 
Å Ãœ
Â9Å 9ÂUÂ Ã—*Ã“*ÃœÅ’KÃ· 
Ã´ â€¡Kâ€šKÃ Ã”!Ã¤	â€¡yâ€šyÂÃ—!Ã’!ÃœÂÃ”!Ãœ
ÂÅ Å’
Ã¤â€¡Kâ€šKÃ#Ã”$Ã°;/ÃœÃ—"Ã‘"Ã—*Ã‘*Ë†Ã¤ÂHâ€°HÂWÃ“ÃŸ
â€°VÃYÃ“
ZÃŸ
â€°RÂ
ËœwÃ“
'ÃŸ
â€°UÂ<Â dË†UÃ“
+ÃŸ
â€°UÂ2â€¹YÃŸ
â€°Wâ€¹YÃ°
 	Ã° â€”â€˜Ã—$Ã$Â "Ë†Ã§ÃœÂGÅ GÃDÃ–EÃ´ Â±UÃ“PÂ±UÂ°Â¿eÂ¹eÃ€JÃ—>OÅ“mËœaÂ 
Å¸mËœmÂ±UÃ‘PÃ“QË†IÃ˜Ë†IÃŸÃ¤â€”Hâ€˜HËœZÃ“(ÃŸâ€˜VÃ7Ã“8ÃŸâ€˜SËœËœyÃ“)ÃŸâ€˜Wâ€œYÃ°	 Ã° 'Ã—+Ã‘+Ã—1Ã1Â¨rÃ’1ÂBÃ˜-/Â°Ã•-=Ã,>Â¸aÃ€Ã€;Ã…Ã?PÃ*QÂIÂ ÂhÃ“'Ã± 2Ã´ ÂÃ˜&Å¸]â„¢]Â¨4Â¯8Â©8Â°JÃ“+?Ã€Ã“QÂ
Ã˜ Å¸Hâ„¢HÂ ^Â°RÃ“8Â	Ã°3Ã1Ã˜!Ã—/Ã‘/Â°	Ã“:ÂBÃ˜#%Â§;Â¡;Â¨zÃ“#:ÂLÃ° Å¸(â„¢(Ã#8Â¸"Ã“=ÂÃ¤â€”â€™Ã°+Ã +7Â¨.Ã° 9,Ã˜,6Â¨<Ã° 8.Ã˜.5Â¨YÃ° 7Ã°	Ã° '+Ãµ	Ã° ËœtÂ*ÂÃœâ€”9â€™9Ëœ^Â°5Â¸Â¸	Ã1BÃ—CÃ•CÃ˜8?â€BÃ—$Ã‘$Ã”5ÃœÃ—+Ã‘+Ã—0Ã‘0ÂDÃ˜ËœxÃ”'Ãœ Ã!5Ã•6Ã¤ Â Ã”0Ãœâ€”Hâ€™Hâ€”JÃ³; Ã·g 
ÂË†ÃºÃ·
 
ÂË†ÃºÃ·
 
ÂË†Ã¼Ã²: QÃ¸Ã´& !Ã´ 3Ã˜#,Â§?Â ?Â°â€œLÃ°3Ã»Ã´. Ã´ /Ãœ
ÂÅ Ã)Â¨!Â¨Ã-Ã—.Ã’.Ã»Ã°/ÃºsÂ§   Ã)O;Ã‚PÃƒ)P#Ã…BQ Ã‡,
Q Ã‡7Q Ãˆ	Q ÃˆP7Ãˆ5
P7Ã‰Q Ã‰AQ ÃŠ(A!Q ÃŒ
(P<ÃŒ2AQ ÃA'Q Ã;P	ÃP 	Ã#P4	Ã7Q Ã<QÃ‘QÃ‘Q Ã‘QÃ‘Q Ã‘R	Ã‘%RÃ’R	c                  Ã³Â²  â‚¬ \        4        \        P                  ! R 4      '       d!   \        R4       \        P                  ! 4        \        P
                  ! R4       \        P                  P                  p . p \        P                  R4      P                  R4      P                  RV  RV  R24      P                  4       pVP                  ;'       g    . pV'       g   \        P                   ! R
4       R	# V Uu/ uF  qDR,           RVR
,           2VbK  	  pp\        P"                  ! R\%        VP'                  4       4      4      pWV,          p\        P(                  ! R\*        P,                  ! 4       R7      p\        P.                  ! RR^xR7      p	\        P0                  ! R. R*OR7      p
\        P                  ! R4      '       EdÂ   V	P3                  4       '       g   \        P                   ! R4       R	#  R	pV
'       dÂ    RV  RVP5                  4        RV
P6                   2p\        P8                  P;                  R4      P=                  VV
P?                  4       RV
P@                  /4       \        P8                  P;                  R4      PC                  V4      pRVR,          RVPE                  R4      R V R!VP5                  4       R"V	P3                  4       R#R$/p
V'       d   WÂ½R%&   \        P                  R&4      PG                  V
4      P                  4        \        PH                  ! R'V R(24       \        R4       \        P                  ! 4        R	# R	#   \         d%   p\        P                  ! RT 24        R	p?ELÂ°R	p?ii ; iu upi   \         d     ELi ; i  \         d%   p\        P                  ! R)T 24        R	p?R	# R	p?ii ; i)+u   Ã¢â€ Â Symptom Entryr>   z### New Symptom Entryr`   z$id, first_name, last_name, centre_idzcarer_ids.cs.{z},parent_ids.cs.{Ãš}zFailed to load children: NzNo children assigned to you.ra   rb   rc   z
Child NameÃšDate)ÃšvaluezSymptom Descriptionu*   Describe the symptoms you have observedÃ¢â‚¬Â¦)r5   ÃšheightzUpload Photo (optional))r8   ÃšSubmitz/Please describe the symptoms before submitting.zcases/Ãš/Ãš_zcase-photoszcontent-typer_   r<   Ãš	centre_idr\   rd   rg   ÃšstatusÃšopenÃš	photo_urlr[   z	Case for z saved!zFailed to save case: )ÃšpngÃšjpgÃšjpeg)%r)   r$   rA   r&   r(   r?   r%   r   r+   rF   rG   Ãšor_rJ   rK   r.   rO   rB   Ãš	selectboxrs   ÃškeysÃš
date_inputr   ÃštodayÃš	text_areaÃš
file_uploaderÃšstripÃš	isoformatÃšnameÃšstorageÃšfrom_ÃšuploadÃšgetvaluer8   Ãšget_public_urlrL   ÃšinsertÃšsuccess)r   r`   r   rR   râ‚¬   Ãš
child_optionsÃš
selected_nameÃšselected_childÃš
entry_dateÃšsymptomsÃšphotorâ€   Ãš	file_pathÃš	case_datas                 r   Ãšsymptom_entry_screenrÂ±   Âº  s"  â‚¬ Ãœâ€NÃ¤	â€¡yâ€šyÃ$Ã—%Ã’%ÃœÂÃ”Ãœ
ÂÅ Å’
Ã¤â€¡Kâ€šKÃ'Ã”(Ã´ Ã—Ã‘Ã—&Ã‘&â‚¬GÃ˜â‚¬HÃ°	2Ã¤ÂHâ€°HÂZÃ“ ÃŸ
â€°VÃ:Ã“
;ÃŸ
â€°SÂ?Â 7Â )Ã+>Â¸wÂ¸iÃ€rÃJÃ“
KÃŸ
â€°Wâ€¹YÃ°	 	Ã°  Ã—$Ã‘$Ã—*Ã*Â¨Ë†Ã· Ãœ
Â
Å 
Ã1Ã”2Ã™Ã± ?GÃ³Ã™>FÂ¸Ë†lÃ•Ã
ËœAËœbÂ ÂoÃ.Ã/Â°Ã’3Â¹hÃ° Ã° Ã´ â€”Lâ€™LÂ Â¬tÂ°MÃ—4FÃ‘4FÃ“4HÃ“/IÃ“Jâ‚¬MÃ˜"Ã•1â‚¬NÃ¤â€”â€™ËœvÂ¬TÂ¯ZÂªZÂ«\Ã”:â‚¬JÃ¤Â|Å |Ã˜Ã˜@Ã˜Ã´â‚¬HÃ´ 
Ã—Ã’Ã6Ã’=SÃ”Tâ‚¬EÃ¤	â€¡yâ€šyÂÃ—Ã“Ã˜Â~â€°~Ã—Ã’ÃœÂJÅ JÃHÃ–IÃ° 
6Ã˜ Â	ÃŸÃ°
Ã˜&,Â¨WÂ¨IÂ°QÂ°zÃ—7KÃ‘7KÃ“7MÃ6NÃˆaÃPUÃ—PZÃ‘PZÃˆ|Ã$\Ëœ	ÃœÅ¸
â„¢
Ã—(Ã‘(Â¨Ã“7Ã—>Ã‘>Ã˜%Ã˜!Å¸Nâ„¢NÃ“,Ã˜+Â¨UÂ¯ZÂ©ZÃ8Ã´Ã´
 %'Â§JÂ¡JÃ—$4Ã‘$4Â°]Ã“$CÃ—$RÃ‘$RÃS\Ã“$]Ëœ	Ã° Â Â¨tÃ• 4Ã˜Â Ã—!3Ã‘!3Â°KÃ“!@Ã˜!Â 7Ã˜"Â JÃ—$8Ã‘$8Ã“$:Ã˜)Â¨8Â¯>Â©>Ã“+;Ã˜ËœfÃ°
Â	Ã· Ã˜-6ËœkÃ‘*Ã¤â€”â€˜ËœÃ“!Ã—(Ã‘(Â¨Ã“3Ã—;Ã‘;Ã”=Ãœâ€”
â€™
ËœYÂ }Â oÂ°WÃ=Ã”>ÃœËœÃ” Ãœâ€”â€™â€“
Ã±E Ã¸Ã´/ Ã´ 2Ãœ
ÂÅ Ã,Â¨QÂ¨CÃ0Ã—1Ã’1Ã»Ã°2Ã¼Ã²Ã¸Ã´@ %Ã´ Ã¢Ã°Ã»Ã´& Ã´ 
6Ãœâ€”â€™Ã0Â°Â°Ã4Ã—5Ã’5Ã»Ã°
6Ãºsj   Ã:AM ÃƒM Ãƒ<NÃ‡<	N' ÃˆBN ÃŠ"AN' Ã‹*A0N' ÃN
Ã)NÃN
ÃN$Ã N' Ã#N$Ã$N' Ã'OÃ2OÃOc            	      Ã³
	  â‚¬ \        4        \        P                  P                  p V '       g!   \	        R 4       \        P
                  ! 4        \        P                  P                  ;'       g    R^ ,          P                  4       p\        P                  ! . R0O4      w  r#pT;_uu_ 4        \        P                  ! R4      '       d!   \	        R 4       \        P
                  ! 4        RRR4       V;_uu_ 4        \        P                  ! RV R2RR7       RRR4        \        P                  R4      P                  R	4      P                  R
V 4      P                  4       P!                  4       pVP"                  pT'       g   \        P(                  ! R4       R# R
pRp	 \        P                  R4      P                  R4      P                  R
TR,          4      P                  4       P!                  4       p
T
P"                  '       d,   T
P"                  R,          p	T	 RT
P"                  R,           2pTP+                  RR4      p ^ RIHp TP/                  TP1                  RR4      4      p
RT
P3                  R4       2p\        P                  ! RT R2RR7       \        P                  ! RT	;'       g    TP5                  4       ^ ,           R24       TP+                  RR4      p\        P                  ! R T R2RR7       TP+                  R!R4      pTP+                  R"R4      pTP+                  R#R4      pTP+                  R$. 4      ;'       g    . pT'       g	   T'       dF   \        P                  ! R%T;'       g    R& R'T'       d   R(T,           R),           MR& R*T R+2RR7       M\        P                  ! R,RR7       T'       d7   RP7                  R- T 4       4      p\        P                  ! R.T R/2RR7       R# R#   + '       g   i     EL&; i  + '       g   i     EL; i  \$         d%   p\        P&                  ! RT 24        Rp?R# Rp?ii ; i  \$         d     EL8i ; i  \$         d    Rp ELÃ¾i ; i)1r>   rV   u   Ã¢â€ Â Case DetailsNrW   r3   Tr   r[   Ãš*r<   ÃºFailed to load case: ÃºCase not found.ÃšChildr   r`   Ãºfirst_name, last_namer_   ra   rb   rc   r]   re   ÃšZÃº+00:00Ãº
Submitted Ãº%I:%M %pÃº<p class='submitted-meta'>Ãº</p>z**z
's Symptoms**rg   z<div class='symptom-bubble'>Ãšai_recommendationÃšai_categoryÃšai_guidanceÃš	red_flagszâ„¢
            <div class="ai-card">
                <h4>AI Guidance</h4>
                <p style="margin:0;"><span class="ai-label">Recommended :</span> u   Ã¢â‚¬â€zâ‚¬</p>
                <p style="margin:6px 0;">
                    <span class="ai-label">Category :</span>
                    z<span class='cat-tag'>z</span>z9
                </p>
                <p class="ai-text">z$</p>
            </div>
            zÃ
            <div class="ai-card">
                <h4>AI Guidance</h4>
                <p class="ai-text" style="color:#888;">No AI guidance available for this case yet.</p>
            </div>
            c              3   Ã³.   "  â‚¬ T F  pR V R2x â‚¬ K
  	  R# 5i)u<   <div class="red-flag-item"><span class="red-dot">Ã¢Å“â€¢</span> r3   Nr   )Ãš.0Ãšflags   & r   Ãš	<genexpr>Ãš&case_details_screen.<locals>.<genexpr>w  s"   Ã© â‚¬ Ã° 
Ã¡!ÂÃ° KÃˆ4Ãˆ&ÃPVÃ•WÃ›!Ã¹s   â€šu{   
            <div class="red-flags-card">
                <div class="red-flag-title">Ã°Å¸Å¡Â© Red Flags</div>
                z 
            </div>
            Â©rl   r   rm   )r)   r$   r%   r   r&   r(   r   rn   ro   rA   r?   r+   rF   rG   rH   rI   rJ   rK   r.   rO   rB   rL   rf   ru   Ãšreplacerv   rM   Ãšjoin)râ€¡   rw   Ãšcol_backÃš
col_spacerÃš
col_avatarÃšcase_resrÂ   rR   râ€š   ra   Ãš	child_resÃšcreatedrf   râ€   Ãš
submitted_strÃšsymptom_textrÂ¾   rÂ¿   rÃ€   rÃ   Ãš
flags_htmls                        r   Ãšcase_details_screenrÃ“   
  sÃŠ  â‚¬ Ãœâ€NÃ¤Ã—Ã‘Ã—/Ã‘/â‚¬GÃŸÃœÂÃ”Ãœ
ÂÅ Å’
Ã´ Ã—Ã‘Ã—,Ã‘,Ã—3Ã3Â°Â°QÃ•7Ã—=Ã‘=Ã“?â‚¬GÃœ')Â§zÂ¢zÂ²)Ã“'<Ã‘$â‚¬HËœ*ÃŸ	Å Ãœ
Â9Å 9Ã'Ã—(Ã’(ÃœÂVÃ”ÃœÂHÅ HÅ’JÃ· 
Ã· 
Å Ãœ
ÂÅ Ã*Â¨7Â¨)Â°6Ã:ÃˆdÃ•SÃ· 
Ã°Ã¤ÂHâ€°HÂWÃ“ÃŸ
â€°VÂCâ€¹[ÃŸ
â€°RÂÂgÃ“
ÃŸ
â€°\â€¹^ÃŸ
â€°Wâ€¹YÃ° 	Ã° Â}â€°}Ë†Ã·
 Ãœ
Â
Å 
Ã$Ã”%Ã™Ã° â‚¬JÃ˜â‚¬JÃ°
Ã¤ÂHâ€°HÂZÃ“ ÃŸ
â€°VÃ+Ã“
,ÃŸ
â€°RÂÂdËœ:Ã•&Ã“
'ÃŸ
â€°\â€¹^ÃŸ
â€°Wâ€¹YÃ° 	Ã° Â>Â>Ë†>Ã˜"Å¸â„¢Â¨Ã•5Ë†JÃ˜&Ëœ<Â qÂ¨Â¯Â©Â¸Ã•)DÃ(EÃFË†JÃ°
 Âhâ€°hÂ|Â RÃ“(â‚¬GÃ°Ã%Ã˜
Ã—
#Ã‘
#Â GÂ§OÂ¡OÂ°CÂ¸Ã“$BÃ“
CË†Ã˜$Â RÂ§[Â¡[Â°Ã“%<Ã$=Ã>Ë†
Ã´ â€¡Kâ€šKÃ,Â¨]Â¨OÂ¸4Ã@ÃTXÃ•YÃ´ â€¡Kâ€šKÂ"ÂZÃ—8Ã8Â :Ã—#3Ã‘#3Ã“#5Â°aÃ•#8Ã9Â¸ÃGÃ”HÃ˜â€”8â€˜8Ã1Â°2Ã“6â‚¬LÃœâ€¡Kâ€šKÃ˜
&Â |Â nÂ°FÃ;Ã˜ÃµÃ° Å¸â„¢Ã!4Â°bÃ“9ÃÃ˜â€”(â€˜(Ëœ=Â¨"Ã“-â‚¬KÃ˜â€”(â€˜(Ëœ=Â¨"Ã“-â‚¬KÃ˜â€”â€˜ËœÂ bÃ“)Ã—/Ã/Â¨Râ‚¬IÃ§Å¸KÃœ
ÂÅ Ã°RÃ° SdÃ—RlÃRlÃglÃQmÃ° nÃ· LWÃ-Â°Ã•;Â¸iÃ–GÃ\aÃbÃ° c$Ã $/Â =Ã° 1
Ã°

Ã° #Ã¶
	
Ã´ 	ÂÅ Ã°
Ã° #Ãµ	
Ã· Ã˜â€”Wâ€˜WÃ± 
Ã¡!Ã³
Ã³ 
Ë†
Ã´ 	ÂÅ Ã°Ã° ÂÃ° 
Ã°
Ã° #Ã·	
Ã± Ã·} 
ÂË†ÃºÃ· 
ÂË†Ã»Ã´ Ã´ Ãœ
ÂÅ Ã(Â¨Â¨Ã,Ã”-ÃÃ»Ã°Ã»Ã´, Ã´ 
ÃšÃ°
Ã»Ã´ Ã´ Ã˜â€¹
Ã°Ãºs\   Ã‚+=PÃƒ:PÃ„ AP- Ã†!A(Q Ãˆ
+Q Ã‰;Q1 ÃP	ÃP*	Ã-QÃ8QÃ‘QÃ‘Q.Ã‘-Q.Ã‘1
RÃ’Rc                  Ã³N
  â‚¬ \        4        \        P                  P                  p V '       g!   \	        R 4       \        P
                  ! 4        \        P                  P                  ;'       g    R^ ,          P                  4       p\        P                  ! . R2O4      w  r#pT;_uu_ 4        \        P                  ! R4      '       d!   \	        R 4       \        P
                  ! 4        RRR4       V;_uu_ 4        \        P                  ! RV R2RR7       RRR4        \        P                  R4      P                  R	4      P                  R
V 4      P                  4       P!                  4       pVP"                  pT'       g   \        P(                  ! R4       R# R
pRp	 \        P                  R4      P                  R4      P                  R
TR,          4      P                  4       P!                  4       p
T
P"                  '       d,   T
P"                  R,          p	T	 RT
P"                  R,           2p\        P                  ! RT	;'       g    TP+                  4       ^ ,           R24       TP-                  RR4      p ^ RIHp TP1                  TP3                  RR4      4      p
RT
P5                  R4       2p\        P                  ! RT R2RR7       \        P                  ! RT	;'       g    TP+                  4       ^ ,           R 2RR7       TP-                  R!R4      pTP-                  R"R4      pTP-                  R#. 4      ;'       g    . pT;'       g
    T;'       g    R$pRpT'       d   R%p\        P                  ! R&T R'T'       d   R(T R2MR R)2RR7       \        P6                  ! R*4      p\        P                  ! R+4      '       dÂ    T'       g   \        P(                  ! R,4       R#  \        P                  R4      P9                  R-RR.R//4      P                  R
T 4      P!                  4        \        P:                  ! R04       \	        R 4       \        P
                  ! 4        R# R#   + '       g   i     ELâ€“; i  + '       g   i     EL{; i  \$         d%   p\        P&                  ! RT 24        Rp?R# Rp?ii ; i  \$         d     ELÂ¨i ; i  \$         d    Rp EL5i ; i  \$         d%   p\        P&                  ! R1T 24        Rp?R# Rp?ii ; i)3r>   ÃšPu   Ã¢â€ Â Acknowledge ReportNrW   r3   Tr   r[   rÂ³   r<   rÂ´   rÂµ   rÂ¶   r   r`   rÂ·   r_   ra   rb   rc   z### z's Health Updater]   re   rÂ¸   rÂ¹   rÂº   rÂ»   rÂ¼   rÂ½   z6<p class='update-desc'>Guidance has been provided for zN's symptoms. Please review the information and let us know you've seen it.</p>rÃ€   rg   rÃ   zNo guidance available yet.z(Watch for any <a href='#'>Red Flags</a>.zd
        <div class="ai-card-dark">
            <h4>AI Guidance</h4>
            <p class="ai-text">z</p>
            z.<p class='ai-text' style='margin-top:0.5rem;'>z
        </div>
        z'I have read and understood this update.ÃšAcknowledgez8Please confirm you have read and understood this update.Ãšacknowledged_by_parentrâ€™   ÃšacknowledgedzReport acknowledged. Thank you!zFailed to acknowledge: rÃ‡   )r)   r$   r%   r   r&   r(   r   rn   ro   rA   r?   r+   rF   rG   rH   rI   rJ   rK   r.   rO   rB   rM   rL   rf   ru   rÃˆ   rv   ÃšcheckboxÃšupdaterÂ¨   )râ€¡   rw   rÃŠ   rÃ‹   rÃŒ   rÃ   rÂ   rR   râ€š   ra   rÃ   rÃ   rf   râ€   rÃ   rÃ€   rÃ‘   rÃ   Ãš
guidance_bodyÃš
red_flag_noterÃ˜   s                        r   Ãšacknowledge_report_screenrÃ   â€¡  s  â‚¬ Ãœâ€NÃ¤Ã—Ã‘Ã—/Ã‘/â‚¬GÃŸÃœÂÃ”Ãœ
ÂÅ Å’
Ã´ Ã—Ã‘Ã—,Ã‘,Ã—3Ã3Â°Â°QÃ•7Ã—=Ã‘=Ã“?â‚¬GÃœ')Â§zÂ¢zÂ²)Ã“'<Ã‘$â‚¬HËœ*ÃŸ	Å Ãœ
Â9Å 9Ã-Ã—.Ã’.ÃœÂVÃ”ÃœÂHÅ HÅ’JÃ· 
Ã· 
Å Ãœ
ÂÅ Ã*Â¨7Â¨)Â°6Ã:ÃˆdÃ•SÃ· 
Ã°Ã¤ÂHâ€°HÂWÃ“ÃŸ
â€°VÂCâ€¹[ÃŸ
â€°RÂÂgÃ“
ÃŸ
â€°\â€¹^ÃŸ
â€°Wâ€¹YÃ° 	Ã° Â}â€°}Ë†Ã·
 Ãœ
Â
Å 
Ã$Ã”%Ã™Ã° â‚¬JÃ˜â‚¬JÃ°
Ã¤ÂHâ€°HÂZÃ“ ÃŸ
â€°VÃ+Ã“
,ÃŸ
â€°RÂÂdËœ:Ã•&Ã“
'ÃŸ
â€°\â€¹^ÃŸ
â€°Wâ€¹YÃ° 	Ã° Â>Â>Ë†>Ã˜"Å¸â„¢Â¨Ã•5Ë†JÃ˜&Ëœ<Â qÂ¨Â¯Â©Â¸Ã•)DÃ(EÃFË†JÃ´
 â€¡Kâ€šKÂ$ÂzÃ—:Ã:Â ZÃ—%5Ã‘%5Ã“%7Â¸Ã•%:Ã;Ã;KÃLÃ”MÃ Âhâ€°hÂ|Â RÃ“(â‚¬GÃ°Ã%Ã˜
Ã—
#Ã‘
#Â GÂ§OÂ¡OÂ°CÂ¸Ã“$BÃ“
CË†Ã˜$Â RÂ§[Â¡[Â°Ã“%<Ã$=Ã>Ë†
Ã´ â€¡Kâ€šKÃ,Â¨]Â¨OÂ¸4Ã@ÃTXÃ•YÃ¤â€¡Kâ€šKÃ˜
@Ã€Ã—AdÃAdÃˆzÃ—O_Ã‘O_Ã“OaÃbcÃ•OdÃ@eÃ° fVÃ° 	WÃ ÃµÃ° â€”(â€˜(Ëœ=Â¨"Ã“-â‚¬KÃ˜â€”8â€˜8Ã1Â°2Ã“6â‚¬LÃ˜â€”â€˜ËœÂ bÃ“)Ã—/Ã/Â¨Râ‚¬IÃ Ã—OÃOÂ <Ã—OÃOÃ3Oâ‚¬MÃ˜â‚¬MÃŸÃ˜BË†
Ã¤â€¡Kâ€šKÃ°
 Ã° !.ËœÃ° /
ÃŸUbÃ=Â¸mÂ¸_ÃˆDÃ‘
QÃhjÃkÃ° l	Ã°		Ã° Ãµ	Ã´ â€”;â€™;ÃHÃ“Iâ‚¬LÃ¤	â€¡yâ€šyÂÃ—Ã’ÃŸÃœÂJÅ JÃQÃ–RÃ°	
8Ãœâ€”â€˜ËœÃ“!Ã—(Ã‘(Ã˜,Â¨dÃ˜ËœnÃ°*Ã³ Ã· â€˜2ÂdËœGÃ“$Â§WÂ¡WÂ¤YÃœâ€”
â€™
Ã<Ã”=ÃœËœÃ” Ãœâ€”â€™â€“
Ã±  Ã·k 
ÂË†ÃºÃ· 
ÂË†Ã»Ã´ Ã´ Ãœ
ÂÅ Ã(Â¨Â¨Ã,Ã”-ÃÃ»Ã°Ã»Ã´, Ã´ 
ÃšÃ°
Ã»Ã´ Ã´ Ã˜â€¹
Ã°Ã»Ã´^ Ã´ 
8Ãœâ€”â€™Ã2Â°1Â°#Ã6Ã—7Ã’7Ã»Ã°
8Ãºsu   Ã‚+=Q5Ãƒ:R	Ã„ AR Ã†!A(S Ãˆ
+S ÃŠ;S! Ã5A<S5 Ã‘5R	Ã’	R	Ã’SÃ’(SÃ“SÃ“SÃ“SÃ“!
S2Ã“1S2Ã“5T$Ã” TÃ”T$r>   rZ   rk   rj   )%Ãš	streamlitr$   rf   r   r   ÃšosÃšdotenvr   Ãšsupabaser   Ãšset_page_configÃšgetenvr   r   rO   ÃšstopÃšcache_resourcer   r+   r?   r%   r   r   r   r   r   r   r   r&   r)   r1   rT   rË†   rÂ±   rÃ“   rÃ   r(   r   r   r   Ãš<module>rÃ¦      s  Ã°Ã› ÃŸ $Ã› 	Ã Ã "Ã¡ â€
Ã  Ã— Ã’ ËœiÂ°6Ã€*Ã• MÃ° ÂyÅ yËœÃ“(â‚¬Ã˜ÂyÅ yËœÃ“(â‚¬Ã§Å¸<Ã˜â€¡Hâ€šHÃ
AÃ”BÃ˜â€¡Gâ€šGâ€IÃ° Ã—Ã‘Ã±5Ã³ Ã°5Ã± Ã“â‚¬Ã° â€¡â€šÃ° y
Ã°r ÃµsyÃ°x 
ÂÃ—!Ã‘!Ã”!Ã˜#â‚¬BÃ—Ã‘Ã”Ã˜ÂBÃ—$Ã‘$Ã”$Ã˜#â‚¬BÃ—Ã‘Ã”Ã˜ËœÃ—)Ã‘)Ã”)Ã˜$&â‚¬BÃ—Ã‘Ã”!Ã˜	ÂÃ—!Ã‘!Ã”!Ã˜â‚¬BÃ—Ã‘Ã”Ã˜ÂrÃ—'Ã‘'Ã”'Ã˜"$â‚¬BÃ—Ã‘Ã”Ã˜ËœÃ—)Ã‘)Ã”)Ã˜$(â‚¬BÃ—Ã‘Ã”!Ã˜ËœRÃ—-Ã‘-Ã”-Ã˜(,â‚¬BÃ—Ã‘Ã”%Ãµ!Ã²Ã²Ã²VÃ²tY/Ã²zO6Ã²fv
Ã²tm8Ã°b 
Ã—Ã‘Ã—Ã‘â‚¬Ã Ë†7â€?Ã™â€ NÃ˜	Ë†Vâ€^Ã™â€ MÃ˜	Ë†_Ã”Ã™Ã–Ã˜	Ë†^Ã”Ã™Ã–Ã˜	Ã
!Ã”!Ã™Ã–Ã¡Ë†WÃ”Ã˜â€¡Hâ€šHâ€ Jr   
